<div>
  <div>
    <h2>
      Proyectos<span class="ml-3" style="font-size: 28px;">&#8226;</span>
      <span class="ml-3" style="color:#58544E; font-size: 25px;">Proyectos en proceso</span>
    </h2>
  </div>
  <div class="card-body">
    <div class="row mb-4">
      <div class="col-4">
        <nz-select
          nzSuffixIcon="filter"
          nzShowSearch
          nzAllowClear
          nzPlaceHolder="-Seleccionar filtro-"
          style="width: 100%;"
        >
          <nz-option nzLabel="Proyectos en Proceso" nzValue="jack"></nz-option>
          <nz-option nzLabel="proyectos Finalizados" nzValue="lucy"></nz-option>
          <nz-option nzLabel="Proyectos Rechazados" nzValue="tom"></nz-option>
        </nz-select>
      </div>
      <div class="col-4">
        <input
          class="form-control"
          type="text"
          name="searchTerm"
          [(ngModel)]="service.searchTerm"
          placeholder="&#xF002; Buscar"
          style="font-family: FontAwesome;"
          nz-input
        />
      </div>

      <span class="ml-3" *ngIf="service.loading$ | async">Loading...</span>
    </div>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th scope="col">Fecha de creación</th>
          <th scope="col" sortable="name" (sort)="onSort($event)">Nombre del Proyecto</th>
          <th scope="col" sortable="name" (sort)="onSort($event)">Estado del proyecto</th>
          <th scope="col" sortable="population" (sort)="onSort($event)">Empresa</th>
          <th scope="col" sortable="population" (sort)="onSort($event)">Sede</th>
          <th scope="col" sortable="area" (sort)="onSort($event)">Fecha de modificación</th>

          <th scope="col" sortable="population" (sort)="onSort($event)"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let id of countries$ | async">
          <td>
            <ngb-highlight [result]="id.fecha" [term]="service.searchTerm"></ngb-highlight>
          </td>
          <td>
            <ngb-highlight [result]="id.name" [term]="service.searchTerm"></ngb-highlight>
          </td>
          <td>
            <ngb-highlight [result]="id.estadoProyecto" [term]="service.searchTerm"></ngb-highlight>
          </td>
          <td>
            <ngb-highlight [result]="id.sede" [term]="service.searchTerm"></ngb-highlight>
          </td>
          <td>
            <ngb-highlight [result]="id.sede" [term]="service.searchTerm"></ngb-highlight>
          </td>
          <td>
            <ngb-highlight [result]="id.sede" [term]="service.searchTerm"></ngb-highlight>
          </td>
          <td>
            <a
              nzTooltipTitle="Editar"
              nzTooltipPlacement="top"
              nz-tooltip
              class="iconTableLink"
              [routerLink]="['/proyectos/nuevoProyecto']"
              routerLinkActive="router-link-active"
              ><i class="fe fe-edit"></i
            ></a>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="d-flex justify-content-end p-2">
      <ngb-pagination
        [collectionSize]="total$ | async"
        [(page)]="service.page"
        [pageSize]="service.pageSize"
      >
      </ngb-pagination>
    </div>
  </div>
</div>
